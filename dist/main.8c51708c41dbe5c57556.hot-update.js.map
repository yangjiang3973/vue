{"version":3,"sources":["file:////Users/yangjiang/dev/learn/vue/src/observer/object.js","file:///webpack/runtime/getFullHash"],"names":["_","require","objProto","Object","prototype","define","$add","key","val","hasOwnProperty","ob","__ob__","isReserved","convert","vms","i","length","vm","_proxy","_digest","notify","$set","$delete","_unproxy"],"mappings":";;;;;;;;;;AAAA,IAAIA,CAAC,GAAGC,mBAAO,CAAC,oCAAD,CAAf;;AACA,IAAIC,QAAQ,GAAGC,MAAM,CAACC,SAAtB,C,CAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAJ,CAAC,CAACK,MAAF,CAASH,QAAT,EAAmB,MAAnB,EAA2B,SAASI,IAAT,CAAcC,GAAd,EAAmBC,GAAnB,EAAwB;AAC/C,MAAI,KAAKC,cAAL,CAAoBF,GAApB,CAAJ,EAA8B;AAC9B,MAAIG,EAAE,GAAG,KAAKC,MAAd,CAF+C,CAG/C;AACA;;AACA,MAAI,CAACD,EAAD,IAAOV,CAAC,CAACY,UAAF,CAAaL,GAAb,CAAX,EAA8B;AAC1B,SAAKA,GAAL,IAAYC,GAAZ;AACA;AACH;;AACDE,IAAE,CAACG,OAAH,CAAWN,GAAX,EAAgBC,GAAhB,EAT+C,CAU/C;;AACA,MAAIE,EAAE,CAACI,GAAP,EAAY;AACR,QAAIC,CAAC,GAAGL,EAAE,CAACI,GAAH,CAAOE,MAAf;;AACA,WAAOD,CAAC,EAAR,EAAY;AACR,UAAIE,EAAE,GAAGP,EAAE,CAACI,GAAH,CAAOC,CAAP,CAAT;;AACAE,QAAE,CAACC,MAAH,CAAUX,GAAV;;AACAU,QAAE,CAACE,OAAH;AACH;AACJ,GAPD,MAOO;AACHT,MAAE,CAACU,MAAH;AACH;AACJ,CArBD;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEApB,CAAC,CAACK,MAAF,CAASH,QAAT,EAAmB,MAAnB,EAA2B,SAASmB,IAAT,CAAcd,GAAd,EAAmBC,GAAnB,EAAwB;AAC/C,OAAKF,IAAL,CAAUC,GAAV,EAAeC,GAAf;AACA,OAAKD,GAAL,IAAYC,GAAZ;AACH,CAHD;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEAR,CAAC,CAACK,MAAF,CAASH,QAAT,EAAmB,SAAnB,EAA8B,SAASoB,OAAT,CAAiBf,GAAjB,EAAsB;AAChD,MAAI,CAAC,KAAKE,cAAL,CAAoBF,GAApB,CAAL,EAA+B;AAC/B,SAAO,KAAKA,GAAL,CAAP;AACA,MAAIG,EAAE,GAAG,KAAKC,MAAd,CAHgD,CAIhD;AACA;;AACA,MAAI,CAACD,EAAD,IAAOV,CAAC,CAACY,UAAF,CAAaL,GAAb,CAAX,EAA8B;AAC1B;AACH;;AACD,MAAIG,EAAE,CAACI,GAAP,EAAY;AACR,QAAIC,CAAC,GAAGL,EAAE,CAACI,GAAH,CAAOE,MAAf;;AACA,WAAOD,CAAC,EAAR,EAAY;AACR,UAAIE,EAAE,GAAGP,EAAE,CAACI,GAAH,CAAOC,CAAP,CAAT;;AACAE,QAAE,CAACM,QAAH,CAAYhB,GAAZ;;AACAU,QAAE,CAACE,OAAH;AACH;AACJ,GAPD,MAOO;AACHT,MAAE,CAACU,MAAH;AACH;AACJ,CAnBD,E;;;;;;;;;;WC7DA,oD","file":"main.8c51708c41dbe5c57556.hot-update.js","sourcesContent":["var _ = require('../util');\nvar objProto = Object.prototype;\n\n//* NOTE: included in observer/index.js, so all functions will run\n//* seems to add $add $set $delete to Object's prototype\n//* need to learn these methods' meaning\n\n/**\n * Add a new property to an observed object\n * and emits corresponding event\n *\n * @param {String} key\n * @param {*} val\n * @public\n */\n\n_.define(objProto, '$add', function $add(key, val) {\n    if (this.hasOwnProperty(key)) return;\n    var ob = this.__ob__;\n    //* if it is not observed or key is reserved\n    //* I feel it is not necessary now\n    if (!ob || _.isReserved(key)) {\n        this[key] = val;\n        return;\n    }\n    ob.convert(key, val);\n    //* what is vms? used to proxy the new data entry if it is added at root level of data\n    if (ob.vms) {\n        var i = ob.vms.length;\n        while (i--) {\n            var vm = ob.vms[i];\n            vm._proxy(key);\n            vm._digest();\n        }\n    } else {\n        ob.notify();\n    }\n});\n\n/**\n * Set a property on an observed object, calling add to\n * ensure the property is observed.\n *\n * @param {String} key\n * @param {*} val\n * @public\n */\n\n_.define(objProto, '$set', function $set(key, val) {\n    this.$add(key, val);\n    this[key] = val;\n});\n\n/**\n * Deletes a property from an observed object\n * and emits corresponding event\n *\n * @param {String} key\n * @public\n */\n\n_.define(objProto, '$delete', function $delete(key) {\n    if (!this.hasOwnProperty(key)) return;\n    delete this[key];\n    var ob = this.__ob__;\n    //* if it is not observed or key is reserved\n    //* I feel it is not necessary now\n    if (!ob || _.isReserved(key)) {\n        return;\n    }\n    if (ob.vms) {\n        var i = ob.vms.length;\n        while (i--) {\n            var vm = ob.vms[i];\n            vm._unproxy(key);\n            vm._digest();\n        }\n    } else {\n        ob.notify();\n    }\n});\n","__webpack_require__.h = () => \"849c16bbf72daa8d9e3f\""],"sourceRoot":""}